(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4904],{1368:(e,t,s)=>{"use strict";let r;s.d(t,{A:()=>l});let a={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},n=new Uint8Array(16),o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));let l=function(e,t,s){if(a.randomUUID&&!t&&!e)return a.randomUUID();let l=(e=e||{}).random??e.rng?.()??function(){if(!r){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");r=crypto.getRandomValues.bind(crypto)}return r(n)}();if(l.length<16)throw Error("Random bytes length must be >= 16");if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){if((s=s||0)<0||s+16>t.length)throw RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[s+e]=l[e];return t}return function(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}(l)}},2066:(e,t,s)=>{"use strict";s.d(t,{C:()=>n});var r=s(5091),a=s(1368);async function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=async()=>{try{let e=await fetch("https://api.ipify.org?format=json");return(await e.json()).ip}catch(e){return"unknown"}},s={log_id:e.log_id||(0,a.A)(),client_id:e.client_id||(0,a.A)(),ip:e.ip||await t(),page:e.page||window.location.pathname,action:e.action||"NO_ACTION",access_level:e.access_level||"NO_ACTION"};return await (0,r.CM)(s),{success:!0,data:s}}catch(e){return console.error("Error setting logs:",e),{success:!1,error:e}}}},2596:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(5155),a=s(2115);function n(e){let{duration:t=1500,image:s="/kfc-loader.gif",alt:n="Loading...",minHeight:o="100vh"}=e,[l,i]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=setTimeout(()=>{i(!1)},t);return()=>clearTimeout(e)},[t]),l)?(0,r.jsx)("div",{className:"flex items-center justify-center",style:{minHeight:o},children:(0,r.jsx)("img",{src:s,alt:n,className:"block max-w-full",style:{WebkitUserSelect:"none"}})}):null}},3843:(e,t,s)=>{"use strict";function r(e){let t=localStorage.getItem("device"),s={...e};if([257792,977332].includes(s.id))return s;if("pc"===t&&s.oldPrice){var r;s.price=s.oldPrice,(null==(r=s.discount)?void 0:r.includes("OFF"))?(s.discount=s.discount.replace("OFF","IN APP"),s.oldPrice=void 0):s.oldPrice=e.price}return s}s.d(t,{T:()=>r})},4295:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var r=s(5155),a=s(6766),n=s(9911),o=s(5305),l=s(2115),i=s(5695),c=s(3843);function d(e){let{product:t}=e,[s,d]=(0,l.useState)(null),[u,x]=(0,l.useState)(!1),m=(0,i.useRouter)(),h=(0,c.T)(t),f=()=>{m.push("/product?id=".concat(h.id))};return(0,r.jsx)("section",{className:"bg-white mt-4",children:(0,r.jsxs)("div",{className:"w-full bg-white h-54 px-3 py-2 flex flex-col justify-between cursor-pointer",onClick:()=>{m.push("/product?id=".concat(h.id))},children:[(0,r.jsxs)("div",{className:"flex flex-col w-2/3",children:[(0,r.jsx)("h3",{className:"bold-font text-sm sm:text-base",children:h.name}),(0,r.jsx)("p",{className:"text-[10px] sm:text-[11px] regular-font text-gray-600 mt-1 w-2/3 line-clamp-2",children:h.description})]}),(0,r.jsx)("div",{className:"additional flex-1 flex items-start justify-between flex-col gap-1 mt-2 mb-3",children:h.sizes&&h.sizes.length>0&&(0,r.jsx)("div",{className:"flex flex-row gap-2",children:h.sizes.map((e,t)=>(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),d(e)},className:"py-4 rounded-lg border-solid border-[2px] w-[60px] sm:w-[64px] h-[28px] sm:h-[30px] flex items-center justify-center shadow-sm transition-all duration-200 ".concat(s===e?"bg-dred border-dred text-white":"bg-[#fffafa] border-dred hover:bg-dred hover:border-dred"),children:(0,r.jsx)("span",{className:"text-[12px] sm:text-sm font-bold transition-colors duration-200 ".concat(s===e?"text-white":"text-dred hover:text-white"),children:e})},t))})}),(0,r.jsxs)("div",{className:"price relative",children:[h.customizable&&(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4 cursor-pointer",onClick:e=>{e.stopPropagation(),f()},children:[(0,r.jsx)("span",{className:"text-sm sm:text-sm bold-font text-blue",children:"CUSTOMIZE"}),(0,r.jsx)("div",{className:"w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center bg-blue rounded-lg",children:(0,r.jsx)(n.Z0P,{className:"text-white text-xs sm:text-sm"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"text-base sm:text-base bold-font",children:[h.price.toFixed(2)," AED"]}),h.oldPrice&&(0,r.jsxs)("span",{className:"text-[11px] sm:text-xs regular-font line-through text-gray-500",children:[h.oldPrice.toFixed(2)," AED"]}),h.discount&&(0,r.jsx)("span",{className:"text-sm sm:text-base",children:"|"}),h.discount&&(0,r.jsxs)("span",{className:"text-sm sm:text-sm bold-font text-dred",children:["-",h.discount]})]}),(0,r.jsxs)("div",{className:"absolute right-0 bottom-0 flex flex-col items-end",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(a.default,{src:h.image,alt:h.name,width:192,height:128,className:"w-30 h-40 sm:w-34 sm:h-42 object-contain mt-2"}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),x(!u)},className:"absolute -left-2 top-5 transition-transform duration-200 hover:scale-110 active:scale-95",children:u?(0,r.jsx)(o.eNm,{className:"text-dred text-2xl transition-all duration-200"}):(0,r.jsx)(o.zuE,{className:"text-dred text-2xl transition-all duration-200"})})]}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),f()},className:"mb-1 shadow-lg shadow-dred/30 w-33 sm:w-32 h-10 sm:h-10 bg-dred text-white px-3 sm:px-6 py-1 sm:py-2 rounded-md bold-font text-xs sm:text-sm",children:"Add to Cart"})]})]})]})})}},4938:(e,t,s)=>{"use strict";s.d(t,{H$:()=>a});var r=s(9509);let a="https://kfc.discount/api";r.env.NEXT_PUBLIC_SERVER_URL_LOCAL_CLEAN},5091:(e,t,s)=>{"use strict";s.d(t,{CM:()=>a,ao:()=>n,jp:()=>o,vx:()=>l});var r=s(4938);async function a(e){let t=await fetch("".concat(r.H$,"/setLogs"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();throw Error((null==e?void 0:e.error)||"Failed to add logs")}return t.json()}async function n(e){let t=localStorage.getItem("admin_token"),s={"Content-Type":"application/json"};t&&(s.Authorization=t);let a=await fetch("".concat(r.H$,"/getLogs"),{method:"POST",headers:s,body:JSON.stringify(e)});if(!a.ok){let e=await a.json();throw Error((null==e?void 0:e.error)||"Failed to add logs")}return a.json()}async function o(e){let t=localStorage.getItem("admin_token"),s={"Content-Type":"application/json"};t&&(s.Authorization=t);let a=await fetch("".concat(r.H$,"/getAllLogs"),{method:"POST",headers:s,body:JSON.stringify(e)});if(!a.ok){let e=await a.json();throw Error((null==e?void 0:e.error)||"Failed to add logs")}return a.json()}async function l(e){await fetch("".concat(r.H$,"/log/Checkout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},6885:(e,t,s)=>{"use strict";s.d(t,{default:()=>h});var r=s(5155),a=s(748),n=s(4549),o=s(2115),l=s(9056),i=s(4295),c=s(1013),d=s(5695),u=s(2596);function x(e){let{handleGoToCart:t}=e,[s,a]=(0,o.useState)(0);return(0,o.useEffect)(()=>{let e=()=>{try{let e=localStorage.getItem("cart");if(e){let t=JSON.parse(e);Array.isArray(t)?a(t.length):a(0)}else a(0)}catch(e){console.error("Error reading cart from localStorage:",e),a(0)}};e();let t=t=>{"cart"===t.key&&e()};window.addEventListener("storage",t);let s=()=>{e()};return window.addEventListener("cartUpdated",s),()=>{window.removeEventListener("storage",t),window.removeEventListener("cartUpdated",s)}},[]),(0,r.jsx)("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 ".concat(s<=0?"hidden":""),children:(0,r.jsxs)("button",{onClick:t,className:"bg-dred bg-opacity-90 text-white px-6 py-3 rounded-full shadow-lg shadow-dred/30 flex items-center gap-2 hover:bg-red-700 hover:bg-opacity-90 transition-all duration-200 backdrop-blur-sm",style:{boxShadow:"0 4px 15px rgba(239, 68, 68, 0.3), 0 0 20px rgba(239, 68, 68, 0.2)"},children:[(0,r.jsx)("span",{className:"bold-font",children:"Go to Cart"}),(0,r.jsx)("span",{className:"bg-white text-dred rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:s})]})})}var m=s(2066);function h(){let e=(0,d.useSearchParams)(),t=(0,d.useRouter)(),h=e.get("category"),[f,p]=(0,o.useState)([]),[g,b]=(0,o.useState)(!0),w=["Exclusive Deals","Combo Meals","Burgers","Twisters","Chicken Buckets","Chicken Meals","Sides","Dips","Drinks"],[y,j]=(0,o.useState)(h&&w.includes(h)?h:"Exclusive Deals"),v=async()=>{try{let{getAllItems:e}=await s.e(7620).then(s.bind(s,7620));return await e()}catch(e){return console.error("Error loading products data:",e),[]}};(0,o.useEffect)(()=>{(async()=>{b(!0),p(await v()),b(!1)})()},[]),(0,o.useEffect)(()=>{window.fbq&&window.fbq("track","ViewContent",{content_name:"Menu"})},[]),(0,o.useEffect)(()=>{h&&w.includes(h)?j(h):j("Exclusive Deals")},[h]),(0,o.useEffect)(()=>{window.fbq&&window.fbq("track","ViewContent",{content_name:"category_change"}),(0,m.C)({page:"menu",action:"category_change",access_level:"user",client_id:localStorage.getItem("client_id")||"NO_CLIENT_ID"})},[y]);let N=f.filter(e=>e.category===y);return g?(0,r.jsx)(u.default,{duration:2e3,minHeight:"100vh"}):(0,r.jsxs)("main",{className:"mb-4",children:[(0,r.jsxs)("section",{className:"bg-white",children:[(0,r.jsx)("div",{className:"bg-white shadow-md z-50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>window.history.back(),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,r.jsx)(a.yCO,{className:"text-2xl text-gray-700"})}),(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-lg bold-font text-gray-900",children:"Explore Menu"})})]}),(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsx)(a.uG9,{className:"text-2xl cursor-pointer",onClick:()=>t.push("/search")})})]})}),(0,r.jsxs)("div",{className:"flex mt-3",children:[(0,r.jsxs)("div",{className:"flex-shrink-0 bg-dred flex flex-col items-center px-2 py-2",children:[(0,r.jsx)(n.UAw,{className:"text-white text-lg"}),(0,r.jsx)("span",{className:"text-white text-xs bold-font",children:"MENU"})]}),(0,r.jsx)("div",{className:"w-full overflow-x-auto  ml-2 mr-2",children:(0,r.jsx)(l.L,{selectedCategory:y,onCategoryChange:j,menuItems:w,scrollToCategory:y})})]})]}),(0,r.jsx)("div",{className:"",children:N.length>0?N.sort((e,t)=>(parseFloat(t.discount||"0")||0)-(parseFloat(e.discount||"0")||0)).map(e=>(0,r.jsx)(i.A,{product:e},e.id)):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-8",children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6",children:(0,r.jsx)(c.Mb1,{className:"text-4xl text-gray-400"})}),(0,r.jsx)("h3",{className:"text-xl bold-font text-gray-700 mb-2",children:"No Items Available"}),(0,r.jsx)("p",{className:"text-center text-gray-500 regular-font leading-relaxed",children:"We're currently updating this category. Check back soon for delicious new options!"})]})}),(0,r.jsx)(x,{handleGoToCart:()=>{t.push("/cart")}})]})}},9056:(e,t,s)=>{"use strict";s.d(t,{L:()=>n});var r=s(5155),a=s(2115);let n=e=>{let{selectedCategory:t,onCategoryChange:s,menuItems:n=["Exclusive Deals","Combo Meals","Burgers","Twisters","Chicken Buckets","Chicken Meals","Dips","Sides","Drinks"],scrollToCategory:o}=e,l=(0,a.useRef)(null),i=(0,a.useRef)(new Map);return(0,a.useEffect)(()=>{if(!o)return;let e=n.findIndex(e=>e===o);if(e>=0&&e<3)return;let t=i.current.get(o);t&&t.scrollIntoView({behavior:"smooth",inline:"start",block:"nearest"})},[o,n]),(0,r.jsx)("nav",{className:"overflow-x-scroll scrollbar-hide",children:(0,r.jsx)("div",{ref:l,className:"flex gap-8 px-4 py-3 min-w-max whitespace-nowrap",children:n.map(e=>(0,r.jsx)("button",{ref:t=>{t?i.current.set(e,t):i.current.delete(e)},className:"text-base bold-font relative ".concat(t===e?"text-dred after:content-[''] after:block after:h-1 after:bg-dred after:w-full after:absolute after:bottom-[-12px]":"text-gray-600 hover:text-black"),onClick:()=>s(e),children:e},e))})})}},9646:(e,t,s)=>{Promise.resolve().then(s.bind(s,6885)),Promise.resolve().then(s.bind(s,2596))}},e=>{e.O(0,[6711,4206,512,8087,2150,7733,8441,5964,7358],()=>e(e.s=9646)),_N_E=e.O()}]);